{% extends "base.html" %}
{% block title %}Detalle de intérprete · Top 100{% endblock %}
{% block nav_artists %}active{% endblock %}

{% block content %}
<nav class="breadcrumbs section">
  <a href="{% url 'home' %}">Inicio</a> 
  <a href="{% url 'artists:list' %}">Intérpretes</a> 
  <span>Detalle</span>
</nav>

<section class="grid cols-2 section">
  <div class="card">
    <div class="cover cover-wide">
      {% if artist.imagen %}
      <img src="{{ artist.imagen }}" alt="{{ artist.nombre }}" loading="lazy">
      {% endif %}
    </div>
  </div>
  <div class="card">
    <div class="kicker">Intérprete</div>
    <h1 class="title">{{ artist.nombre }}</h1>
    <p class="muted">Popularidad: {{ artist.popularidad|default:"0" }} · Followers: {{ artist.followers|default:"0" }}</p>
    <div class="chips">
      {% if artist.nacionalidad %}
      <span class="chip">Origen: {{ artist.nacionalidad }}</span>
      {% endif %}
      <span class="chip">Canciones: {{ songs.count }}</span>
    </div>
    <div class="row mt-lg">
      <a class="btn ghost" href="{% url 'artists:list' %}">Volver</a>
    </div>
  </div>
</section>

<section class="section card">
  <h2 class="title section-title">Canciones del intérprete</h2>
  <table class="table">
    <thead><tr><th>#</th><th>Título</th><th>Estilo</th></tr></thead>
    <tbody>
      {% for cancion in songs %}
      <tr>
        <td class="rank">#{{ forloop.counter }}</td>
        <td><a href="{% url 'songs:detail' pk=cancion.pk %}">{{ cancion.nombre }}</a></td>
        <td><a href="{% url 'genres:detail' slug=cancion.estilo.nombre|slugify %}" class="badge">{{ cancion.estilo.nombre }}</a></td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="3" class="table-empty">Este artista no tiene canciones.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</section>
{% endblock %}
