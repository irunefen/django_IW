{% extends "base.html" %}
{% block title %}Canciones · Top 100{% endblock %}
{% block nav_songs %}active{% endblock %}

{% block content %}
<section class="section">
  <div class="row">
    <div class="grow">
      <div class="kicker">Listado</div>
      <h1 class="title">Todas las canciones</h1>
      <p class="muted">Haz clic en una fila para ver los detalles.</p>
    </div>
    <div class="chips">
      <span class="chip">Orden: Popularidad</span>
      <span class="chip">Filtro: Ninguno</span>
    </div>
  </div>
</section>

<section class="section">
  <article class="card">
    <table class="table" role="table">
      <thead>
        <tr>
          <th>#</th>
          <th>Título</th>
          <th>Estilo</th>
          <th>Intérpretes</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for cancion in songs %}
        <tr>
          <td><span class="rank">#{{ forloop.counter }}</span></td>
          <td><a href="{% url 'songs:detail' pk=cancion.pk %}">{{ cancion.nombre }}</a></td>
          <td><a href="{% url 'genres:detail' slug=cancion.estilo.nombre|slugify %}" class="badge">{{ cancion.estilo.nombre }}</a></td>
          <td class="muted">{% for artista in cancion.artistas.all %}{{ artista.nombre }}{% if not forloop.last %}, {% endif %}{% endfor %}</td>
          <td><a class="btn ghost" href="{% url 'songs:detail' pk=cancion.pk %}">Ver</a></td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="5" class="table-empty">No hay canciones disponibles.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </article>
</section>
{% include "includes/_pagination.html" %}
{% endblock %}
